---
- name: Install python symlink
  file:
    # TODO: resolve python3 link correctly!
    src: "/usr/bin/python3"
    dest: "{{ python_symlink }}"
    state: link
  become: true

- name: Install pip symlink
  file:
    # TODO: resolve pip3 link correctly!
    src: "/usr/bin/pip3"
    dest: "{{ pip_symlink }}"
    state: link
  become: true

- name: Install Python PIP packages
  pip:
    name: "{{ pip_packages }}"
    state: present
    executable: "{{ pip_executable }}"
  become: true
  register: pip_packages_result
  until: pip_packages_result is success
  retries: 5
  delay: 2
